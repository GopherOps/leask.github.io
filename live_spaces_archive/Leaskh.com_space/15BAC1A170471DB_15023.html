<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" type="text/css" href="style.css" /><title>&#32487;&#32493;&#37322;&#25918;ssh -D&#30340;&#21147;&#37327;&#65281;</title></head><body><h1 id="blog-Title"><a href="index.html">&#35;import &#34;Leask.h&#34;</a></h1><div id="bp"><h2 id="bp-15BAC1A170471DB_15023-Title">&#32487;&#32493;&#37322;&#25918;ssh -D&#30340;&#21147;&#37327;&#65281;</h2><h5 id="bp-15BAC1A170471DB_15023-publish">10/15/2009 9&#58;21&#58;50 PM</h5><div id="bp-15BAC1A170471DB_15023-content" class="blogpost"><p><img style="border-bottom&#58;0px;border-left&#58;0px;display&#58;inline;border-top&#58;0px;border-right&#58;0px" title="Screen shot 2009-10-15 at 9.09.52 PM" border="0" alt="Screen shot 2009-10-15 at 9.09.52 PM" src="img/15BAC1A170471DB_15023_0.jpg" width="779" height="718" />  <p>虽然iSSH在Mac上使用已经很便利，但是并不完美，主要是每次都需要重新加载设置才能连接，而且设置的加载也不完整。于是萌生了自己写一个链接端的念头。 <p>程序使用Applescript编写，在Snow Leopard 10.6.1调试通过，程序前半部分通过调用终端实现ssh -D连接，后半部分通过curl调用twitter告诉大家你在“为自由而奋斗”，最后一句是语音反馈，告知你一切已经就绪。 <p>就那么简单。把这个脚本打包成app文件，放在dock上，点击一次就能实现ssh -D翻墙了，一切一切只需要一次点击，自由的曙光离我们越来越近了。 <p>下面提供程序给大家复制，大家可以根据自己的需要随意修改！祝你们好运！ <blockquote> <p><em>(*<br />Version 0.3<br />Code by Leask Huang<br /></em><a href="http&#58;//www.leaskh.com"><em>http&#58;//www.leaskh.com</em></a><br /><em>i@leaskh.com<br />*) </em> <p><em>global ServerName<br />global LocalPorts<br />global UserName<br />global Passwd<br />set ServerName to &quot;ssh.*****.com&quot; -- Set ServerName<br />set LocalPort to &quot;7070&quot; -- Set LocalPorts<br />set UserName to &quot;*****&quot; -- Set UserName<br />set Passwd to &quot;*****&quot; -- Set Password<br />set SSHCommand to &quot;nohup ssh -D &quot; &amp; LocalPort &amp; &quot; &quot; &amp; UserName &amp; &quot;@&quot; &amp; ServerName<br />tell application &quot;Terminal&quot;<br />    activate<br />    do script &quot;killall ssh&quot; in window 1<br />    do script &quot;killall ssh-agent&quot; in window 1<br />    do script SSHCommand in window 1<br />    delay 5<br />    do script Passwd in window 1<br />    quit<br />end tell </em> <p><em>global TwitterUsername<br />global TwitterPassword<br />global TwitterLogin<br />global TwitterStatus<br />set TwitterUsername to &quot;*****&quot;<br />set TwitterPassword to &quot;*****&quot;<br />set TwitterLogin to quoted form of (TwitterUsername &amp; &quot;&#58;&quot; &amp; TwitterPassword)<br />set TwitterStatus to quoted form of (&quot;status=&quot; &amp; &quot;@Leaskh I am @&quot; &amp; TwitterUsername &amp; &quot; , and I am crossing the #GFW with #ssh -D now!&quot;)<br />do shell script &quot;curl --user &quot; &amp; TwitterLogin &amp; &quot; --data-binary &quot; &amp; TwitterStatus &amp; &quot; </em><a href="https&#58;//twitter.com/statuses/update.json&quot;"><em>https&#58;//twitter.com/statuses/update.json&quot;</em></a> <p><em>say &quot;Congratulations! Your Socks proxy over SSH dashes D has been successfully connected.&quot;</em></p></p></p></blockquote>  </div><h3>Comments</h3><div id="bp-15BAC1A170471DB_15023-comments" class="comments"></div></div></body></html>