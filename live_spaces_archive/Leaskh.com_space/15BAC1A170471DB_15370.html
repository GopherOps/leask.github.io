<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" type="text/css" href="style.css" /><title>&#30452;&#32447;&#21644;&#22278;&#30456;&#20132;&#30340;&#22352;&#26631;&#20844;&#24335;&#25512;&#23548;</title></head><body><h1 id="blog-Title"><a href="index.html">&#35;import &#34;Leask.h&#34;</a></h1><div id="bp"><h2 id="bp-15BAC1A170471DB_15370-Title">&#30452;&#32447;&#21644;&#22278;&#30456;&#20132;&#30340;&#22352;&#26631;&#20844;&#24335;&#25512;&#23548;</h2><h5 id="bp-15BAC1A170471DB_15370-publish">8/22/2010 1&#58;32&#58;26 AM</h5><div id="bp-15BAC1A170471DB_15370-content" class="blogpost"><p>今天需要实现一个求直线和圆相交坐标的算法，其实公式不难推，但是推了好几回，由于粗心，总是算错，于是耐心算了一下，把过程写写，碰巧有用的就要了去吧。 <p>1&#58; Ax + By + C = 0<br />2&#58; (x - d)^2 + (y - e)^2 = r^2  <p>1&#58; -By = Ax + C<br />2&#58; (x - d)^2 + (y - e)^2 - r^2 = 0  <p>1&#58; y = (Ax + C) / (-B)<br />2&#58; x^2 - 2dx + d^2 + y^2 - 2ey + e^2 - r^2 = 0  <p>put 1 into 2 =&gt; 3 &#58; x^2 - 2dx + d^2 + [(Ax + C) / (-B)]^2 - 2e[(Ax + C) / (-B)] + e^2 - r^2 = 0  <p>3&#58; x^2 - 2dx + d^2 + [(Ax + C)^2 / B^2] + 2e[(Ax + C) / B] + e^2 - r^2 = 0  <p>3&#58; x^2 - 2dx + d^2 + &#123;[(Ax)^2 + 2ACx + c^2] / B^2&#125; + [(2eAx + 2eC) / B] + e^2 - r^2 = 0  <p>3 * B^2 =&gt; 4&#58; B^2 * x^2 - 2dx * B^2 + d^2 * B^2 + A^2 * x^2  + 2ACx + c^2 + 2eABx + 2eBC + e^2 * B^2 - r^2 * B^2 = 0  <p>4&#58; (B^2 + A^2)x^2 + (2eAB + 2AC - 2dB^2)x  + d^2B^2 + c^2 + 2eBC + e^2B^2 - r^2 * B^2 = 0 </p> <p> </p> <p>Fx^2 + Gx + H = 0<br />&#123;<br />    F = B^2 + A^2<br />    G = 2eAB + 2AC - 2dB^2<br />    H = d^2B^2 + c^2 + 2eBC + e^2B^2 - r^2B^2<br />&#125;</p> <p> </p> <p>用F、G、H构成一元二次方程，解得x，用x解得y就可以了。还需要注意的是实数根和虚根的问题哦。</p>  </div><h3>Comments</h3><div id="bp-15BAC1A170471DB_15370-comments" class="comments"></div></div></body></html>