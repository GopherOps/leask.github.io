<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" type="text/css" href="style.css" /><title>&#20851;&#20110;&#34394;&#25311;&#35838;&#22530;&#31995;&#32479;&#30340;&#30772;&#35299;&#25506;&#32034;</title></head><body><h1 id="blog-Title"><a href="index.html">&#35;import &#34;Leask.h&#34;</a></h1><div id="bp"><h2 id="bp-15BAC1A170471DB_1209-Title">&#20851;&#20110;&#34394;&#25311;&#35838;&#22530;&#31995;&#32479;&#30340;&#30772;&#35299;&#25506;&#32034;</h2><h5 id="bp-15BAC1A170471DB_1209-publish">11/9/2005 4&#58;00&#58;00 PM</h5><div id="bp-15BAC1A170471DB_1209-content" class="blogpost"><div>这个学期学院为我们经济系新建了一个机房(A5053)，配置还好。<br />很多同学抱怨说上课的时候老师总是通过虚拟课堂软件接管我们的屏幕，同时屏蔽键鼠的操作，让我们实际操作的时间很短。<br />经过几次上机实践后熟悉了其软件的运作机理，于是思考破解。</div>
<div> </div>
<div>PART_A</div>
<div>由于学校的机器配有还原卡以保护数据，因此所有需要重新启动的办法都行不通。<br />通过调用任务管理器查看系统进程，可以清楚发现虚拟课堂的后台进程，但是尝试关闭的时候提示错误。<br />看来简单通过关闭进程的办法是不可行的。</div>
<div> </div>
<div>PART_B</div>
<div>通过分析发现其进程是通过监听教师主机的特定端口以获取控制命令，当收到特定的指令的时候就接管屏幕，屏蔽键鼠。<br />于是得出初步脱离控制的思路，就是限制该程序访问网络。<br />首先想到的是拔掉网线或者禁用本地连接，虽然实验证明的确可以逃脱控制，但是不能上网了，这样破解的意义就大打折扣。</div>
<div> </div>
<div>PART_C</div>
<div>继续研究发现虚拟课堂是一个简单的局域网应用软件应该不具备穿过路由、防火墙等能力，也就是说其主机与被控制的机器应该在同一个局域网中，而且在同一子网之下。<br />于是想到一个新的办法，就是修改IP地址，达到和主机处于不同网段的办法，让客户机无法监听到主机的控制信号。<br />试验证明这个办法也可行，但是也是不能上网。<br />分析发现由于学校机房上课需要通过代理服务器，代理服务器是和学生机处于同一个子网的，修改网段后自然就不能访问代理服务器，造成无法上网。</div>
<div> </div>
<div>PART_D</div>
<div>郁闷了好一会儿，重新打开本地连接的属性，细看，一切豁然开朗，原来除一些基本的协议外在使用中的还有几个非必要的协议，其中包括一个 NetBEUI 以及两个 NWLink 扩展协议。<br />仔细分析系统中已经安装的软件，没有发现依赖这些协议的软件。<br />于是怀疑这些协议是为虚拟课堂提供底层连接的。</div>
<div> </div>
<div><img src="img/15BAC1A170471DB_1209_0.jpg" /></div>
<div> </div>
<div>二话不说，禁用这三个协议，按下确定，提示重新启动的时候按取消，禁用本地连接后重新启用，发现设置已经生效，成功逃脱教师主机的控制而且正常访问互联网。</div>
<div> </div>
<div>其实终究来说方法很简单，很容易理解也很容易做到。<br />把整个分析思路写出来希望起一个抛砖引玉的作用，帮助大家思考类似的问题。<br />如有任何疑问欢迎与我讨论。</div>
<div>
<hr />
</div><img src="img/15BAC1A170471DB_1209_1.jpg" /></div><h3>Comments</h3><div id="bp-15BAC1A170471DB_1209-comments" class="comments"><div id="comment-15BAC1A170471DB_1211"><h5 id="comment-15BAC1A170471DB_1211"> - 11/9/2005 6&#58;04&#58;07 PM</h5>&#24403;&#25105;&#30475;&#21040;&#35273;&#24471;&#20852;&#22859;&#20043;&#38469;&#65292;friend&#21578;&#35785;&#25105;&#20854;&#23454;&#22312;&#32769;&#24072;&#25509;&#31649;&#20320;&#28857;&#20027;&#26426;&#21069;&#65292;&#25226;&#8220;student &#8221;&#37027;&#20010;&#31243;&#24207;&#20851;&#20102;&#23601;&#21487;&#20197;&#30340;&#20102;&#65292;&#24050;&#32463;&#35797;&#39564;&#36807;n&#27425;&#94;_&#94;&#30475;&#26469;&#36825;&#27425;&#20320;&#36208;&#28431;&#30524;&#21862; &#65374;&#65374;</div><div id="comment-15BAC1A170471DB_1214"><h5 id="comment-15BAC1A170471DB_1214"> - 11/9/2005 7&#58;22&#58;50 PM</h5>&#25105;&#22909;&#20687;&#23581;&#35797;&#36807;&#65292;&#20294;&#26159;&#36935;&#21040;&#26435;&#38480;&#38382;&#39064;&#19981;&#33021;&#20851;&#38381;&#37027;&#20010;&#36827;&#31243;&#65292;&#21621;&#21621;&#12290;&#10;&#32487;&#32493;&#30740;&#31350;...</div><div id="comment-15BAC1A170471DB_1254"><h5 id="comment-15BAC1A170471DB_1254"> - 11/25/2005 4&#58;43&#58;15 PM</h5>&#21487;&#20197;&#65292;&#20851;&#38381;&#36827;&#31243;&#30340;&#26041;&#27861;&#20063;&#21487;&#20197;&#65281;&#10;&#35797;&#39564;&#36890;&#36807;&#65281;&#10;&#21621;&#21621;&#12290;</div></div></div></body></html>